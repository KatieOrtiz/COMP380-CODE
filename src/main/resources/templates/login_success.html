<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1">
<title>CODE Store Login Success</title>
<link rel="stylesheet" href="loginstyle.css">
<script src="https://kit.fontawesome.com/35afca83d3.js" crossorigin="anonymous"></script>

<!--Style specifically for signup confirmation-->
<style type="text/css"> 
span {
    display: inline-block;
    width: 200px;
    text-align: left;
    color: black;
    font-style: normal;
}
</style>
</head>
<body>
    <!--The top navigation bar on the website-->
    <div class="navbar">
        <a href="/home">Home</a>
        <a href="/products">Products</a>
        <a href="/login">Login</a>
        <a href="/signup">Signup</a>
        <a href="/cart" class="right">
            <div class="cart">
                <i class="fa-lg fa-solid fa-cart-shopping"></i>
                <div id="cartAmount" class="cartAmount">0</div> <!--Displays the number of items in cart-->
              </div>
          </a>
      </div>

      <!--container with login successful, and welcome *insert name*-->
    <div class="center">
        <h2 style="font-family: Lucida Handwriting; color: black;" >Login Successful!</h2>
        <center>Welcome <br/> </center> 
        <center th:text="${user.name}"></center> <br/>
        <!--Logout button-->
        <center><a href="/login"><input type="submit" value="Logout"></a></center>
        
        <br/>
    </div>
<!--The bottom navigation bar on the website-->  
    <div class="bottomnavbar">
        <a href="/about" class="active">About</a>
        <a href="/faq">FAQ</a>
        <a href="/contact">Contact</a>
    </div>
      
    <!-- Update num of items in cart icon -->
  <script>
    let basket = JSON.parse(localStorage.getItem("data")) || [];
    let calculation = () => {
      let cartIcon = document.getElementById("cartAmount");
      cartIcon.innerHTML = basket.map((x) => x.item).reduce((x, y) => x + y, 0);
    };
    calculation();
  </script>
    
</body>
</html>